{
  "collections": [
    {
      "collection_id": "user_profiles",
      "name": "User Profiles",
      "permissions": [
        "create(\"users\")",
        "read(\"any\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "firstName",
          "type": "string",
          "required": false,
          "array": false,
          "size": 50
        },
        {
          "key": "lastName",
          "type": "string",
          "required": false,
          "array": false,
          "size": 50
        },
        {
          "key": "userId",
          "type": "string",
          "required": true,
          "array": false,
          "size": 36
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": true,
          "array": false
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": false,
          "array": false
        },
        {
          "key": "profilePicture",
          "type": "string",
          "required": false,
          "array": false,
          "size": 1000
        },
        {
          "key": "bio",
          "type": "string",
          "required": false,
          "array": false,
          "size": 200
        },
        {
          "key": "location",
          "type": "string",
          "required": false,
          "array": false,
          "size": 100
        },
        {
          "key": "website",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "is_private",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        }
      ],
      "indexes": [
        {
          "key": "username_unique",
          "type": "unique",
          "attributes": ["username"]
        },
        {
          "key": "userId_index",
          "type": "key",
          "attributes": ["userId"]
        },
        {
          "key": "search_username",
          "type": "fulltext",
          "attributes": ["username"]
        },
        {
          "key": "search_bio",
          "type": "fulltext",
          "attributes": ["bio"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "user_reports",
      "name": "User Reports",
      "permissions": [
        "read(\"team:moderators\")",
        "read(\"team:admins\")",
        "create(\"users\")",
        "create(\"team:moderators\")",
        "update(\"team:moderators\")",
        "delete(\"team:moderators\")",
        "create(\"team:admins\")",
        "update(\"team:admins\")",
        "delete(\"team:admins\")"
      ],
      "attributes": [
        {
          "key": "reporter_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "reported_user_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "reported_post_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "reported_comment_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "reported_message_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "room_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "report_type",
          "type": "string",
          "required": true,
          "array": false,
          "size": 100
        },
        {
          "key": "description",
          "type": "string",
          "required": true,
          "array": false,
          "size": 1000
        },
        {
          "key": "status",
          "type": "string",
          "required": false,
          "array": false,
          "size": 50,
          "default": "pending"
        },
        {
          "key": "reviewed_by",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "reviewed_at",
          "type": "datetime",
          "required": false,
          "array": false
        },
        {
          "key": "action_taken",
          "type": "string",
          "required": false,
          "array": false,
          "size": 500
        }
      ],
      "indexes": [
        {
          "key": "pending_reports",
          "type": "key",
          "attributes": ["status", "$createdAt"]
        },
        {
          "key": "user_reports",
          "type": "key",
          "attributes": ["reported_user_id", "$createdAt"]
        },
        {
          "key": "post_reports",
          "type": "key",
          "attributes": ["reported_post_id", "$createdAt"]
        },
        {
          "key": "comment_reports",
          "type": "key",
          "attributes": ["reported_comment_id", "$createdAt"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "blocked_users",
      "name": "Blocked Users",
      "permissions": [
        "read(\"users\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "blocker_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "blocked_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "reason",
          "type": "string",
          "required": false,
          "array": false,
          "size": 500
        }
      ],
      "indexes": [
        {
          "key": "blocker_blocked_unique",
          "type": "unique",
          "attributes": ["blocker_id", "blocked_id"]
        },
        {
          "key": "user_blocked_list",
          "type": "key",
          "attributes": ["blocker_id"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "user_presence",
      "name": "User Presence",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 100
        },
        {
          "key": "status",
          "type": "string",
          "required": false,
          "array": false,
          "size": 50,
          "default": "offline"
        },
        {
          "key": "current_room_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "last_seen",
          "type": "datetime",
          "required": true,
          "array": false
        },
        {
          "key": "is_typing",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "typing_in_room",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        }
      ],
      "indexes": [
        {
          "key": "user_unique",
          "type": "unique",
          "attributes": ["user_id"]
        },
        {
          "key": "room_online_users",
          "type": "key",
          "attributes": ["current_room_id", "status"]
        },
        {
          "key": "typing_users",
          "type": "key",
          "attributes": ["typing_in_room", "is_typing"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "chat_messages",
      "name": "Chat Messages",
      "permissions": [
        "read(\"users\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "room_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 100
        },
        {
          "key": "user_avatar",
          "type": "string",
          "required": false,
          "array": false,
          "size": 500
        },
        {
          "key": "message",
          "type": "string",
          "required": true,
          "array": false,
          "size": 2000
        },
        {
          "key": "message_type",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "parent_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "attachments",
          "type": "string",
          "required": false,
          "array": true,
          "size": 255
        },
        {
          "key": "reactions",
          "type": "string",
          "required": false,
          "array": true,
          "size": 50
        },
        {
          "key": "pinned",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "is_edited",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "edited_at",
          "type": "datetime",
          "required": false,
          "array": false
        },
        {
          "key": "is_deleted",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        }
      ],
      "indexes": [
        {
          "key": "room_messages_desc",
          "type": "key",
          "attributes": ["room_id", "$createdAt"]
        },
        {
          "key": "user_messages",
          "type": "key",
          "attributes": ["user_id", "$createdAt"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "room_participants",
      "name": "Room Participants",
      "permissions": [
        "read(\"users\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "room_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 100
        },
        {
          "key": "joined_at",
          "type": "datetime",
          "required": true,
          "array": false
        },
        {
          "key": "last_seen",
          "type": "datetime",
          "required": true,
          "array": false
        },
        {
          "key": "message_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "daily_message_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        }
      ],
      "indexes": [
        {
          "key": "room_user_unique",
          "type": "unique",
          "attributes": ["room_id", "user_id"]
        },
        {
          "key": "user_rooms",
          "type": "key",
          "attributes": ["user_id"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "chat_rooms",
      "name": "Chat Rooms",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "name",
          "type": "string",
          "required": true,
          "array": false,
          "size": 200
        },
        {
          "key": "name_lc",
          "type": "string",
          "required": true,
          "array": false,
          "size": 200
        },
        {
          "key": "type",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "description",
          "type": "string",
          "required": false,
          "array": false,
          "size": 500
        },
        {
          "key": "participant_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "active_users_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "total_messages",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "daily_messages",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "last_message_at",
          "type": "datetime",
          "required": false,
          "array": false
        },
        {
          "key": "is_active",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": true
        },
        {
          "key": "color_primary",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "color_secondary",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 16777215
        },
        {
          "key": "order",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "category",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "totalMessagesToday",
          "type": "integer",
          "required": false,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "type_category_order",
          "type": "key",
          "attributes": ["type", "category", "order"]
        },
        {
          "key": "active_category",
          "type": "key",
          "attributes": ["is_active", "category"]
        },
        {
          "key": "name_search",
          "type": "key",
          "attributes": ["name_lc"]
        },
        {
          "key": "room_latest",
          "type": "key",
          "attributes": ["$createdAt"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "user_names_history",
      "name": "User Names History",
      "permissions": [
        "create(\"users\")",
        "read(\"any\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "userId",
          "type": "string",
          "required": true,
          "array": false,
          "size": 36
        },
        {
          "key": "subscriptionType",
          "type": "string",
          "required": false,
          "array": false,
          "size": 20,
          "default": "Free"
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": false,
          "array": false
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": false,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "username_unique",
          "type": "unique",
          "attributes": ["username"]
        },
        {
          "key": "userId_index",
          "type": "key",
          "attributes": ["userId"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "feed_posts",
      "name": "Feed Posts",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "room_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 100
        },
        {
          "key": "user_avatar",
          "type": "string",
          "required": false,
          "array": false,
          "size": 500
        },
        {
          "key": "content",
          "type": "string",
          "required": true,
          "array": false,
          "size": 2000
        },
        {
          "key": "media_urls",
          "type": "string",
          "required": false,
          "array": true,
          "size": 255
        },
        {
          "key": "link_url",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "link_metadata",
          "type": "string",
          "required": false,
          "array": false,
          "size": 1000
        },
        {
          "key": "hashtags",
          "type": "string",
          "required": false,
          "array": true,
          "size": 50
        },
        {
          "key": "mentions",
          "type": "string",
          "required": false,
          "array": true,
          "size": 50
        },
        {
          "key": "like_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "comment_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "repost_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "share_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "is_edited",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "edited_at",
          "type": "datetime",
          "required": false,
          "array": false
        },
        {
          "key": "is_deleted",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        }
      ],
      "indexes": [
        {
          "key": "room_posts_desc",
          "type": "key",
          "attributes": ["room_id", "$createdAt"]
        },
        {
          "key": "user_posts",
          "type": "key",
          "attributes": ["user_id", "$createdAt"]
        },
        {
          "key": "hashtag_search",
          "type": "key", 
          "attributes": ["hashtags"]
        },
        {
          "key": "most_liked",
          "type": "key",
          "attributes": ["like_count", "$createdAt"]
        },
        {
          "key": "most_commented",
          "type": "key",
          "attributes": ["comment_count", "$createdAt"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "post_comments",
      "name": "Post Comments",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "post_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "username",
          "type": "string",
          "required": true,
          "array": false,
          "size": 100
        },
        {
          "key": "user_avatar",
          "type": "string",
          "required": false,
          "array": false,
          "size": 500
        },
        {
          "key": "parent_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "content",
          "type": "string",
          "required": true,
          "array": false,
          "size": 2000
        },
        {
          "key": "media_urls",
          "type": "string",
          "required": false,
          "array": true,
          "size": 255
        },
        {
          "key": "like_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "reply_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 0
        },
        {
          "key": "is_deleted",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "is_edited",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "edited_at",
          "type": "datetime",
          "required": false,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "post_comments_desc",
          "type": "key",
          "attributes": ["post_id", "$createdAt"]
        },
        {
          "key": "comment_thread",
          "type": "key",
          "attributes": ["parent_id", "$createdAt"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "post_likes",
      "name": "Post Likes",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "item_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "item_type",
          "type": "string",
          "required": true,
          "array": false,
          "size": 10
        },
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        }
      ],
      "indexes": [
        {
          "key": "user_item_unique",
          "type": "unique",
          "attributes": ["user_id", "item_id"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "post_reposts",
      "name": "Post Reposts",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "post_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "comment",
          "type": "string",
          "required": false,
          "array": false,
          "size": 2000
        }
      ],
      "indexes": [
        {
          "key": "user_post_unique",
          "type": "unique",
          "attributes": ["user_id", "post_id"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "hashtags",
      "name": "Hashtags",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")"
      ],
      "attributes": [
        {
          "key": "hashtag",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "usage_count",
          "type": "integer",
          "required": false,
          "array": false,
          "default": 1
        },
        {
          "key": "last_used_at",
          "type": "datetime",
          "required": true,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "hashtag_unique",
          "type": "unique",
          "attributes": ["hashtag"]
        },
        {
          "key": "trending_hashtags",
          "type": "key",
          "attributes": ["usage_count", "last_used_at"]
        },
        {
          "key": "hashtag_search",
          "type": "fulltext",
          "attributes": ["hashtag"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "bookmarks",
      "name": "Bookmarks",
      "permissions": [
        "read(\"users\")",
        "create(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "post_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "created_at",
          "type": "datetime",
          "required": true,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "user_post_unique",
          "type": "unique",
          "attributes": ["user_id", "post_id"]
        },
        {
          "key": "user_bookmarks",
          "type": "key",
          "attributes": ["user_id", "created_at"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "follows",
      "name": "Follows",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "follower_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "followed_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "created_at",
          "type": "datetime",
          "required": true,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "follower_followed_unique",
          "type": "unique",
          "attributes": ["follower_id", "followed_id"]
        },
        {
          "key": "follower_list",
          "type": "key",
          "attributes": ["follower_id"]
        },
        {
          "key": "followed_list",
          "type": "key",
          "attributes": ["followed_id"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "activity_logs",
      "name": "Activity Logs",
      "permissions": [
        "read(\"users\")",
        "create(\"users\")"
      ],
      "attributes": [
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "action_type",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "item_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "item_type",
          "type": "string",
          "required": false,
          "array": false,
          "size": 50
        },
        {
          "key": "created_at",
          "type": "datetime",
          "required": true,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "user_activity",
          "type": "key",
          "attributes": ["user_id", "created_at"]
        }
      ],
      "seed_data": []
    },
    {
      "collection_id": "notifications",
      "name": "Notifications",
      "permissions": [
        "read(\"users\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "attributes": [
        {
          "key": "user_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "actor_id",
          "type": "string",
          "required": true,
          "array": false,
          "size": 255
        },
        {
          "key": "action_type",
          "type": "string",
          "required": true,
          "array": false,
          "size": 50
        },
        {
          "key": "item_id",
          "type": "string",
          "required": false,
          "array": false,
          "size": 255
        },
        {
          "key": "item_type",
          "type": "string",
          "required": false,
          "array": false,
          "size": 50
        },
        {
          "key": "is_read",
          "type": "boolean",
          "required": false,
          "array": false,
          "default": false
        },
        {
          "key": "created_at",
          "type": "datetime",
          "required": true,
          "array": false
        }
      ],
      "indexes": [
        {
          "key": "user_notifications",
          "type": "key",
          "attributes": ["user_id", "created_at"]
        },
        {
          "key": "unread_notifications",
          "type": "key",
          "attributes": ["user_id", "is_read", "created_at"]
        }
      ],
      "seed_data": []
    }
  ]
}